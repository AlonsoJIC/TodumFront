<div class="auth-container">
  <div class="auth-card-wrapper">
    <mat-card class="auth-card">
      <mat-card-header>
        <div class="auth-header">
          <h1 class="brand-title">Todum</h1>
          <h2 class="auth-title">Iniciar Sesión</h2>
          <p class="auth-subtitle">Bienvenido de vuelta. Ingresa tus credenciales para continuar.</p>
        </div>
      </mat-card-header>

      <mat-card-content>
        <form (ngSubmit)="onSubmit()" #loginForm="ngForm" class="auth-form">
          <!-- Email Field -->
          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Correo Electrónico</mat-label>
            <input matInput type="email" [(ngModel)]="loginData.email" name="email" required email #email="ngModel"
              autocomplete="email">
            <mat-icon matSuffix>email</mat-icon>
            <mat-error *ngIf="email.invalid && (email.dirty || email.touched)">
              <span *ngIf="email.errors?.['required']">El email es requerido</span>
              <span *ngIf="email.errors?.['email']">Por favor ingresa un email válido</span>
            </mat-error>
          </mat-form-field>

          <!-- Password Field -->
          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Contraseña</mat-label>
            <input matInput [type]="hidePassword ? 'password' : 'text'" [(ngModel)]="loginData.password" name="password"
              required minlength="6" #password="ngModel" autocomplete="current-password">
            <button mat-icon-button matSuffix type="button" (click)="hidePassword = !hidePassword"
              [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hidePassword">
              <mat-icon>{{hidePassword ? 'visibility_off' : 'visibility'}}</mat-icon>
            </button>
            <mat-error *ngIf="password.invalid && (password.dirty || password.touched)">
              <span *ngIf="password.errors?.['required']">La contraseña es requerida</span>
              <span *ngIf="password.errors?.['minlength']">La contraseña debe tener al menos 6 caracteres</span>
            </mat-error>
          </mat-form-field>

          <!-- Remember Me -->
          <div class="auth-options">
            <mat-checkbox [(ngModel)]="rememberMe" name="rememberMe">
              Recordarme
            </mat-checkbox>
          </div>

          <!-- Submit Button -->
          <button mat-raised-button color="primary" type="submit" class="auth-button full-width"
            [disabled]="!loginForm.valid || isLoading">
            <mat-icon *ngIf="isLoading" class="spinning">sync</mat-icon>
            <mat-icon *ngIf="!isLoading">login</mat-icon>
            {{ isLoading ? 'Iniciando sesión...' : 'Iniciar Sesión' }}
          </button>
        </form>
      </mat-card-content>

      <mat-card-actions>
        <div class="auth-footer">
          <p class="auth-link-text">
            ¿No tienes una cuenta?
            <a routerLink="/auth/register" class="auth-link">Regístrate aquí</a>
          </p>
          <a routerLink="/" class="back-link">
            <mat-icon>arrow_back</mat-icon>
            Volver al inicio
          </a>
        </div>
      </mat-card-actions>
    </mat-card>
  </div>
</div>